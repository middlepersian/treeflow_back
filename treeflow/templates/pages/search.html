{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block extend_head %}
<link rel="stylesheet" href="{% static 'search/search.css' %}" />
<script src="{% static 'search/forms.js' %}"></script>
{% endblock %}
{% block title %}
treeflow - Search
{% endblock %}

{% block content %}
<div class="flex flex-col">
    <div id="search" class="flex flex-col">
        <button id="toggle-search" class="h-12 font-semibold">
            <h3>Search</h3>
        </button>
        <div id="search-type" class="flex gap-4">
            <select id="search-type-selection" name="layout_selection" hx-get="{% url 'search:change_search_type' %}"
                hx-target="#search-forms" hx-swap="innerHTML">
                <option value="distance" {% if layout_selection == "distance" %}selected{% endif %}>Token distance</option>
                <option value="logical" {% if layout_selection == "logical" %}selected{% endif %}>Logical operators</option>
            </select>
        </div>
        <div id="search-forms" class="overflow-x-auto text-center">
            {% include "search/formset.html" %}
        </div>
    </div>
    <div id="results" class="flex flex-col">
        <button id="toggle-results" class="h-12 font-semibold">
            <h3>Results</h3>
        </button>
        <div id="results-list">
            {% include "search/results.html" %}
        </div>
    </div>
</div>
{% endblock %}