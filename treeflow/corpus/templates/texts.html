{% extends "base.html" %}
{% block content %}

<div class="overflow-x-auto">
  <table class="min-w-full bg-white">
    <thead class="bg-gray-800 text-white">
      <tr>
        <th
          class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-center">
          Title
        </th>
        <th
          class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-center">
          Identifier
        </th>
        <th
          class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-center">
          Sigle
        </th>
        <th
          class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-center">
          Sources
        </th>
        <th
          class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-center">
          Genre
        </th>
        <th
          class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-center">
          Version
        </th>
        <th
          class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-center">
          Stage
        </th>
        <th
          class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-center">
          Sentences View
        </th>
        <th
          class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-center">
          Sections View</th>
        <th
          class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-center">
          Tokens View
        </th>
        <th
          class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-center">
          Created At
        </th>
        <th
          class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-center">
          Actions
        </th>
      </tr>
    </thead>
    <tbody class="text-gray-700">
      {% for text in texts %}
      <tr class="border-b">
        <!-- Title -->
        <td class="px-6 py-4 whitespace-nowrap">
          <input type="text" name="title_{{ text.id }}" value="{{ text.title }}"
            class="form-input rounded-md shadow-sm mt-1 block w-full text-center" />
        </td>
        <!-- Identifier -->
        <td class="px-6 py-4 whitespace-nowrap">
          <input type="text" name="identifier_{{ text.id }}"
            value="{{ text.identifier }}"
            class="form-input rounded-md shadow-sm mt-1 block w-full text-center" />
        </td>
        <!-- Sigle -->
        <td class="px-6 py-4 whitespace-nowrap">
          <input type="text" name="series_{{ text.id }}"
            value="{{ text.series }}"
            class="form-input rounded-md shadow-sm mt-1 block w-full text-center" />
        </td>
        <!-- Sources -->
        <td class="px-6 py-4 whitespace-nowrap text-center">
          {{ text.sources.all|join:", " }}
        </td>
        <!-- Genre-->
        <td class="px-6 py-4 whitespace-nowrap">
          <input type="text" name="label_{{ text.id }}" value="{{ text.label }}"
            class="form-input rounded-md shadow-sm mt-1 block w-full text-center" />
        </td>
        <!-- Version -->
        <td class="px-6 py-4 whitespace-nowrap">
          <input type="text" name="version_{{ text.id }}"
            value="{{ text.version }}"
            class="form-input rounded-md shadow-sm mt-1 block w-full text-center" />
        </td>
        <!-- Stage -->
        <td class="px-6 py-4 whitespace-nowrap">
          <input type="text" name="stage_{{ text.id }}" value="{{ text.stage }}"
            class="form-input rounded-md shadow-sm mt-1 block w-full text-center" />
        </td>
        <!-- Sentences View-->
        <td class="px-6 py-4 whitespace-nowrap text-center">
          <a href="{% url 'corpus:sentences' text_id=text.id %}">&#128065;</a>
        </td>

        <!-- Sections View-->
        <td class="px-6 py-4 whitespace-nowrap text-center">
          <a href="{% url 'corpus:sections-editor-view' text_id=text.id %}">&#128065;</a>
        </td>

        <!-- Tokens View-->
        <td class="px-6 py-4 whitespace-nowrap text-center">
          <a href="{% url 'corpus:tokens' text_id=text.id %}">&#128065;</a>
        </td>

        <!-- Created At -->
        <td class="px-6 py-4 whitespace-nowrap text-center">
          {{ text.created_at|date:"Y-m-d H:i" }}
          <!-- assuming this is not editable -->
        </td>

        <!-- Actions -->
        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
          <button type="submit" name="action" value="save_{{ text.id }}"
            class="text-indigo-600 hover:text-indigo-900 text-center">Save</button>
        </td>
      </tr>
      {% endfor %}
      {% if texts|length == 0 %}
      <tr>
        <td colspan="9"
          class="px-6 py-4 whitespace-nowrap text-center text-sm font-medium">
          No texts available.
        </td>
      </tr>
      {% endif %}
    </tbody>
  </table>
</div>
{% endblock %}